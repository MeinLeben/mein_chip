#include "pch.h"
#include "memory.h"

Memory::Memory(size_t size) :
	m_size(size) {
	assert(m_size != 0);
	m_pMemory = new uint8_t[m_size];
	memset(m_pMemory, 0x0, m_size * sizeof(uint8_t));

	//Set default font set
	//"0"					  "1"
	m_pMemory[0x0050] = 0xF0;	m_pMemory[0x0055] = 0x20;
	m_pMemory[0x0051] = 0x90;	m_pMemory[0x0056] = 0x60;
	m_pMemory[0x0052] = 0x90;	m_pMemory[0x0057] = 0x20;
	m_pMemory[0x0053] = 0x90;	m_pMemory[0x0058] = 0x20;
	m_pMemory[0x0054] = 0xF0;	m_pMemory[0x0059] = 0x70;

	//"2"						"3"
	m_pMemory[0x005A] = 0xF0;	m_pMemory[0x005F] = 0xF0;
	m_pMemory[0x005B] = 0x10;	m_pMemory[0x0060] = 0x10;
	m_pMemory[0x005C] = 0xF0;	m_pMemory[0x0061] = 0xF0;
	m_pMemory[0x005D] = 0x80;	m_pMemory[0x0062] = 0x10;
	m_pMemory[0x005E] = 0xF0;	m_pMemory[0x0063] = 0xF0;

	//"4"						"5"
	m_pMemory[0x0064] = 0x90;	m_pMemory[0x0069] = 0xF0;
	m_pMemory[0x0065] = 0x90;	m_pMemory[0x006A] = 0x80;
	m_pMemory[0x0066] = 0xF0;	m_pMemory[0x006B] = 0xF0;
	m_pMemory[0x0067] = 0x10;	m_pMemory[0x006C] = 0x10;
	m_pMemory[0x0068] = 0x10;	m_pMemory[0x006D] = 0xF0;

	//"6"						"7"
	m_pMemory[0x006E] = 0xF0;	m_pMemory[0x0073] = 0xF0;
	m_pMemory[0x006F] = 0x80;	m_pMemory[0x0074] = 0x10;
	m_pMemory[0x0070] = 0xF0;	m_pMemory[0x0075] = 0x20;
	m_pMemory[0x0071] = 0x90;	m_pMemory[0x0076] = 0x40;
	m_pMemory[0x0072] = 0xF0;	m_pMemory[0x0077] = 0x40;

	//"8"						"9"
	m_pMemory[0x0078] = 0xF0;	m_pMemory[0x007D] = 0xF0;
	m_pMemory[0x0079] = 0x90;	m_pMemory[0x007E] = 0x90;
	m_pMemory[0x007A] = 0xF0;	m_pMemory[0x007F] = 0xF0;
	m_pMemory[0x007B] = 0x90;	m_pMemory[0x0080] = 0x10;
	m_pMemory[0x007C] = 0xF0;	m_pMemory[0x0081] = 0xF0;

	//"A"						"B"
	m_pMemory[0x0082] = 0xF0;	m_pMemory[0x0087] = 0xE0;
	m_pMemory[0x0083] = 0x90;	m_pMemory[0x0088] = 0x90;
	m_pMemory[0x0084] = 0xF0;	m_pMemory[0x0089] = 0xE0;
	m_pMemory[0x0085] = 0x90;	m_pMemory[0x008A] = 0x90;
	m_pMemory[0x0086] = 0x90;	m_pMemory[0x008B] = 0xE0;

	//"C"						"D"
	m_pMemory[0x008C] = 0xF0;	m_pMemory[0x0091] = 0xE0;
	m_pMemory[0x008D] = 0x80;	m_pMemory[0x0092] = 0x90;
	m_pMemory[0x008E] = 0x80;	m_pMemory[0x0093] = 0x90;
	m_pMemory[0x008F] = 0x80;	m_pMemory[0x0094] = 0x90;
	m_pMemory[0x0090] = 0xF0;	m_pMemory[0x0095] = 0xE0;

	//"E"						"F"
	m_pMemory[0x0096] = 0xF0;	m_pMemory[0x009B] = 0xF0;
	m_pMemory[0x0097] = 0x80;	m_pMemory[0x009C] = 0x80;
	m_pMemory[0x0098] = 0xF0;	m_pMemory[0x009D] = 0xF0;
	m_pMemory[0x0099] = 0x80;	m_pMemory[0x009E] = 0x80;
	m_pMemory[0x009A] = 0xF0;	m_pMemory[0x009F] = 0x80;
}
